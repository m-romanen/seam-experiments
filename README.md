CREATING A TABLES (DB2):


create table film (
id integer generated always as identity not null,
name varchar(255),
duration integer,
description varchar(5000),
primary key (id)
);

create table seance  (
id integer generated always as identity not null,
film_id integer,
hall_id integer,
start_date timestamp,
price integer,
foreign key (film_id) references film(id) on update restrict on delete cascade,
foreign key (hall_id) references hall(id) on update restrict on delete cascade,
primary key(id)
);

create table hall  (
id integer generated always as identity not null,
name varchar(255),
primary key(id)
);

create table place  (
id integer generated always as identity not null,
number integer,
row_id integer,
foreign key (row_id) references row(id) on update restrict on delete cascade,
primary key(id)
);

create table row  (
id integer generated always as identity not null,
number integer,
hall_id integer,
foreign key (hall_id) references hall(id) on update restrict on delete cascade,
primary key(id)
);

create table reservation  (
id integer generated always as identity not null,
seance_id integer,
place_id integer,
user_id integer foreign key (user_id) references user(id) on update restrict on delete cascade,
foreign key (seance_id) references seance(id) on update restrict on delete cascade,
foreign key (place_id) references place(id) on update restrict on delete cascade,
primary key(id)
);



INSERT INITIAL DATA (DB2):


insert into hall(name)
values 
('4D-Зал'), 
('Малый зал'), 
('Большой зал');

insert into film (name, duration, description)
values
('Форрест Гамп', 142, 'Картина снята по мотивам одноименного романа Уинстона Грума. Сюжет фильма рассказывает об увлекательной жизни парня по имени Форест Гамп.
Маленький Форрест живет вместе со своей матерью в штате Алабама, в городке под названием Гринбоу. У него проблемы со здоровьем, да и ко всему прочему мальчик обладает расстройством интеллекта, поэтому его матери приходится приложить немало усилий, чтобы его взяли в обычную школу. В школе Форрест постоянно подвергается издевательствам со стороны сверстников, но это помогает ему научиться очень быстро бегать, что в будущем дает шанс парню стать студентом, и войти в число лучших спортсменов-любителей страны. После окончания университета Форрест идет в армию, и попадает на начавшуюся войну во Вьетнаме...'),
('Назад в будущее', 116, 'Главный герой картины - семнадцатилетний подросток по имени Марти Макфлай. Он ведет самый обычный образ жизни, присущий парню его возраста. Как-то раз, ночью, Марти звонит его друг доктор Эммет Браун, которого все считают безумцем, и просит приехать, для участия в каком-то загадочном эксперименте. Когда герой приезжает, то выясняется, что доку удалось создать машину времени, на базе автомобиля DeLorean DMC-12. По его словам, для перемещения машину лишь нужно разогнать до нужной скорости, и выбрать желаемую дату. В этот момент появляются террористы, у которых Браун украл плутоний для своего изобретения. Марти не остается ничего другого, как спасаться от преследования на той самой Делореан. Так парень перемещается из 1985 года, в далёкий 1955 год, когда он даже еще не родился. И все бы ничего, если бы не одна маленькая проблемка - оказалось, что топлива на обратный временной прыжок у него нет.'),
('Гладиатор', 155, 'Действие фильма разворачивается в далеком 180 году нашей эры. Главный герой Максимус является одним из лучших генералов Римской Империи. Под его предводительством легионы повергли немало врагов, за что он стал любимчиком императора Марка Аврелия, и тот даже был готов передать ему свою власть, ведь родной сын Коммод, по мнению правителя, был недостоин трона. Узнав об этом, Коммод убивает отца, и тем самым берет власть над империей в свои руки. Максимус отказывается присягнуть новому правителю, и тот отдает приказ убить непокорного генерала. Однако ему удается сбежать, и сильно раненый, в результате схватки с солдатами, он направляется домой. Добравшись, Максимус обнаруживает, что его жену и детей жестоко убили. Еле живого, его подбирает работорговец, и в скоро времени продает человеку по имение Проксимо, который занимается гладиаторскими боями. Став жертвой политических интриг, Максимус превращается в гладиатора, ведь ему больше нечего терять, и он совсем не боится смерти. Пока герой даже не подозревает, что в скором будущем ему предстоит самая важная схватка в жизни.'),
('Карты, деньги, два ствола', 107, 'Действие фильма разворачивается в Лондоне. В центре сюжета картины четверо закадычных друзей – Эдди, Том, «Бекон» и «Мыло», зарабатывающие себе на жизнь различного рода авантюрами. Однажды каждый из них собирает кругленькую сумму денег, в размере 25 тысяч фунтов, чтобы Эдди смог принять участие в карточной игре, ведь если он победит, то парни сорвут неплохой куш. Организацией игры занимает криминальный авторитет по имени Гарри Лонсдейл. Парни как-то не учли, что Гарри отменный карточный жулик, и поэтому игра будет явно нечестной. В результате Эдди мало того, что проиграл собранные друзьями деньги, так еще и оказался должен бандиту пол миллиона, после чего получил недельный срок на возвращение долга. Тут и начинаются невероятные приключения четверки…');

insert into row (number, hall_id)
values
(1,1), (2,1), (3,1), (4,1), (5,1), (6,1), 
(1,2), (2,2), (3,2), (4,2), (5,2), (6,2), (7,2), (8,2), (9,2), (10,2), 
(1,3), (2,3), (3,3), (4,3), (5,3),  (6,3), (7,3), (8,3), (9,3), (10,3), (11,3), (12,3), (13,3), (14,3), (15,3), (16,3), (17,3), (18,3), (19,3), (20,3);

insert into place(number, row_id)
values
(1,37), (2,37), (3,37), (4,37), (5,37), (6,37), (7,37), (8,37), (9,37), (10,37),
(1,38), (2,38), (3,38), (4,38), (5,38), (6,38), (7,38), (8,38), (9,38), (10,38),
(1,39), (2,39), (3,39), (4,39), (5,39), (6,39), (7,39), (8,39), (9,39), (10,39),
(1,40), (2,40), (3,40), (4,40), (5,40), (6,40), (7,40), (8,40), (9,40), (10,40),
(1,41), (2,41), (3,41), (4,41), (5,41), (6,41), (7,41), (8,41), (9,41), (10,41),
(1,42), (2,42), (3,42), (4,42), (5,42), (6,42), (7,42), (8,42), (9,42), (10,42),
(1,43), (2,43), (3,43), (4,43), (5,43), (6,43), (7,43), (8,43), (9,43), (10,43),
(1,44), (2,44), (3,44), (4,44), (5,44), (6,44), (7,44), (8,44), (9,44), (10,44),
(1,45), (2,45), (3,45), (4,45), (5,45), (6,45), (7,45), (8,45), (9,45), (10,45),
(1,46), (2,46), (3,46), (4,46), (5,46), (6,46), (7,46), (8,46), (9,46), (10,46),
(1,37), (2,37), (3,37), (4,37), (5,37), (6,37), (7,37), (8,37), (9,47), (10,47),
(1,48), (2,48), (3,48), (4,48), (5,48), (6,48), (7,48), (8,48), (9,48), (10,48),
(1,49), (2,49), (3,49), (4,49), (5,49), (6,49), (7,49), (8,49), (9,49), (10,49),
(1,50), (2,50), (3,50), (4,50), (5,50), (6,50), (7,50), (8,50), (9,50), (10,50),
(1,51), (2,51), (3,51), (4,51), (5,51), (6,51), (7,51), (8,51), (9,51), (10,51),
(1,52), (2,52), (3,52), (4,52), (5,52), (6,52), (7,52), (8,52), (9,52), (10,52),
(1,53), (2,53), (3,53), (4,53), (5,53), (6,53), (7,53), (8,53), (9,53), (10,53), (11,53), (12,53),
(1,54), (2,54), (3,54), (4,54), (5,54), (6,54), (7,54), (8,54), (9,54), (10,54), (11,54), (12,54),
(1,55), (2,55), (3,55), (4,55), (5,55), (6,55), (7,55), (8,55), (9,55), (10,55), (11,55), (12,55),
(1,56), (2,56), (3,56), (4,56), (5,56), (6,56), (7,56), (8,56), (9,56), (10,56), (11,56), (12,56),
(1,57), (2,57), (3,57), (4,57), (5,57), (6,57), (7,57), (8,57), (9,57), (10,57), (11,57), (12,57),
(1,58), (2,58), (3,58), (4,58), (5,58), (6,58), (7,58), (8,58), (9,58), (10,58), (11,58), (12,58),
(1,59), (2,59), (3,59), (4,59), (5,59), (6,59), (7,59), (8,59), (9,59), (10,59), (11,59), (12,59),
(1,60), (2,60), (3,60), (4,60), (5,60), (6,60), (7,60), (8,60), (9,60), (10,60), (11,60), (12,60),
(1,61), (2,61), (3,61), (4,61), (5,61), (6,61), (7,61), (8,61), (9,61), (10,61), (11,61), (12,61),
(1,62), (2,62), (3,62), (4,62), (5,62), (6,62), (7,62), (8,62), (9,62), (10,62), (11,62), (12,62),
(1,63), (2,63), (3,63), (4,63), (5,63), (6,63), (7,63), (8,63), (9,63), (10,63), (11,63), (12,63),
(1,64), (2,64), (3,64), (4,64), (5,64), (6,64), (7,64), (8,64), (9,64), (10,64), (11,64), (12,64),
(1,65), (2,65), (3,65), (4,65), (5,65), (6,65), (7,65), (8,65), (9,65), (10,65), (11,65), (12,65),
(1,66), (2,66), (3,66), (4,66), (5,66), (6,66), (7,66), (8,66), (9,66), (10,66), (11,66), (12,66),
(1,67), (2,67), (3,67), (4,67), (5,67), (6,67), (7,67), (8,67), (9,67), (10,67), (11,67), (12,67),
(1,68), (2,68), (3,68), (4,68), (5,68), (6,68), (7,68), (8,68), (9,68), (10,68), (11,68), (12,68),
(1,69), (2,69), (3,69), (4,69), (5,69), (6,69), (7,69), (8,69), (9,69), (10,69), (11,69), (12,69),
(1,70), (2,70), (3,70), (4,70), (5,70), (6,70), (7,70), (8,70), (9,70), (10,70), (11,70), (12,70),
(1,71), (2,71), (3,71), (4,71), (5,71), (6,71), 
(1,72), (2,72), (3,72), (4,72), (5,72), (6,72);


insert into seance(film_id, hall_id, start_date, price)
values
(1, 1, (TIMESTAMP(CAST('10.02.2021' AS VARCHAR(10)),'13:15:00')) , 200),
(1, 1, (TIMESTAMP(CAST('10.02.2021' AS VARCHAR(10)),'19:15:00')) , 200),
(1, 2, (TIMESTAMP(CAST('10.02.2021' AS VARCHAR(10)),'11:00:00')) , 120),
(1, 2, (TIMESTAMP(CAST('10.02.2021' AS VARCHAR(10)),'16:30:00')) , 120),
(1, 2, (TIMESTAMP(CAST('11.02.2021' AS VARCHAR(10)),'11:00:00')) , 120),
(1, 2, (TIMESTAMP(CAST('11.02.2021' AS VARCHAR(10)),'16:30:00')) , 120),
(2, 3, (TIMESTAMP(CAST('10.02.2021' AS VARCHAR(10)),'12:00:00')) , 150),
(2, 3, (TIMESTAMP(CAST('11.02.2021' AS VARCHAR(10)),'12:00:00')) , 150),
(2, 3, (TIMESTAMP(CAST('11.02.2021' AS VARCHAR(10)),'11:00:00')) , 150),
(3, 1, (TIMESTAMP(CAST('10.02.2021' AS VARCHAR(10)),'16:30:00')) , 250),
(3, 1, (TIMESTAMP(CAST('11.02.2021' AS VARCHAR(10)),'17:00:00')) , 250),
(3, 1, (TIMESTAMP(CAST('11.02.2021' AS VARCHAR(10)),'21:30:00')) , 250),
(4, 2, (TIMESTAMP(CAST('12.02.2021' AS VARCHAR(10)),'15:00:00')) , 100),
(4, 2, (TIMESTAMP(CAST('12.02.2021' AS VARCHAR(10)),'18:00:00')) , 100);